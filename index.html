<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="manifest" href="manifest.json?ver=1.0" />
	<title>Document</title>
	
</head>
<body>
	<button class="add-button">add-button</button>
	<a href="weixin://dl/business/?t=bXIjVRkUphs">微信视频号</a>
	<a href="zhipianbangau://type=video_download&token=fc3817c8b83ea68283fa17d8ae14fcc5">点击跳转APP下载视频</a>
	<a href="tel:4008880960">4008880960</a>
	setTokensetTokensetTokensetTokensetTokensetTokensetTokensetTokensetToken
	<input type="text" id="input" value="默认的一个值">
<img class="func_pic" src="ewm.png" alt="悦音ai智能配音技术">
	<input type="file" id="input" >
	<input type="file" id="input" accept=".mp3" multiple="multiple">
	
	<br/>
	<br/>
	<button onclick="open_douyin_xcx()">点击跳转抖音小程序,并附带参数name，值为输入框内容</button>
	<br/>
	<br/>
	<button onclick="open_douyin_qwcys()">点击跳转抖音小程序趣味创意社的大脑成熟度检测</button>
<script type="text/javascript" src="https://js.cdn.aliyun.dcloud.net.cn/dev/uni-app/uni.webview.1.5.2.js"></script>
	<script>
	if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    };
		
		
		
		
		
		
		
		
		
		
		
const addBtn = document.querySelector('.add-button');
addBtn.style.display = 'none';
		
		
		
window.addEventListener('beforeinstallprompt', (e) => {
  // 防止 Chrome 67 及更早版本自动显示安装提示
  e.preventDefault();
  // 稍后再触发此事件
  deferredPrompt = e;
  // 更新 UI 以提醒用户可以将 App 安装到桌面
 console.log("546");
addBtn.style.display = 'block';
  addBtn.addEventListener('click', (e) => {
    // 隐藏显示 A2HS 按钮的界面
    addBtn.style.display = 'none';
    // 显示安装提示
    deferredPrompt.prompt();
    // 等待用户反馈
    deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('User accepted the A2HS prompt');
        } else {
          console.log('User dismissed the A2HS prompt');
        }
        deferredPrompt = null;
      });
  });
});
		
		
		
		
		
	  function setToken(token){
		alert("setToken"+token);
		  return true;
	    }

	    document.addEventListener('UniAppJSBridgeReady', function() {
		uni.postMessage({
			data:{
				type:"ready"
			}
		});
	    });
		
		function open_douyin_xcx(){
			let val = document.getElementById("input").value;
			console.log(val);

			let go_page = "pages/index/index?name="+val;

			location.href = "snssdk1128://microapp?app_id=tt40df3662dfe6177301&start_page="+encodeURIComponent(go_page);
		}
		function open_douyin_qwcys(){
			location.href = "snssdk1128://microapp?app_id=ttff6d89d06057e4de&start_page="+encodeURIComponent("pages/ATpindex/problem_default?goodsid=303388&tid=1947822&token=cff9ffce4cde269a211db1fc5d6cf230-1947822-1646892202");
		}
		// https://z.douyin.com/yKqj?scheme=snssdk1128://microapp?app_id=ttff6d89d06057e4de&start_page=pages/ATpindex/problem_default?goodsid=303388&tid=1947822&token=cff9ffce4cde269a211db1fc5d6cf230-1947822-1646892202
	</script>
</body>
</html>
